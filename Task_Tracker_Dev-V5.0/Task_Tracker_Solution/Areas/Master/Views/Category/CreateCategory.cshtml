@model Task_Tracker_Solution.Areas.Master.Models.CategoryViewModel
@{
    ViewBag.Title = "CreateWorkflow";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@*<script src="~/Areas/Master/Views/Workflow/WorkflowJS.js"*@
@*<script src="@Url.Content("~/Areas/Master/Views/Workflow/WorkflowJS.js")" type="text/javascript"></script>*@

@*@Scripts.Render("~/bundle/Workflow");*@



<script>   
    function Confirm(obj) {
        event.preventDefault();
        if ($('#txtCategory_name').val().length == 0) {
            bootbox.alert("Please enter Category name");
            return;
        }
        bootbox.confirm("Please confirm if you want to perform this action?", function (result) {
            if (result) {
                $('#btnSaveCategory').click();
                return true;
            }
        });
    }
</script>

<div class="app-page-title">
    <div class="page-title-wrapper">
        <div class="page-title-heading">
            <div class="page-title-icon">
                <i class="pe-7s-plus icon-gradient bg-premium-dark">
                </i>
            </div>
            <div> Create Category </div>

        </div>
    </div>
</div>

@*<div class="text-center">
    <span style="color:blue;font-weight:bold;font-size:12px">@ViewBag.SuccessMessage</span>
    <span style="color:red;font-weight:bold;font-size:12px">@ViewBag.ErrorMessage</span>
</div>*@
@*Model.workflow_syscode > 0 ? "Update" :*@
@using (Html.BeginForm("Submit", "Category", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <div class="main-card mb-2 card" id="divCategory">
        <div class="card-body">
            <div class="form-row">
                <div class="col-md-5">
                    <div class="position-relative form-group">
                        <label for="exampleEmail11" class="">Category Name</label>
                        @Html.TextBoxFor(model => model.category_name, new { @class = "form-control", @id = "txtCategory_name" })
                    </div>
                </div>
                @*<div class="col-md-5">
                    <div class="position-relative form-group">
                        <label for="exampleEmail11" class="">Task Owner</label>
                        @Html.DropDownListFor(model => model.department_syscode, Model.SLdepartment ?? new SelectList(new List<SelectListItem>() { }), "--Select Department--",
                                             new
                                             {
                                                 id = "ddlDepartment",
                                                 @class = "form-control select2"
                                             })
                    </div>
                </div>*@
                <div class="col-md-2">
                    <div class="position-relative form-group mt-4 mb-0">
                        <label>Is Active</label>
                        @Html.CheckBoxFor(model => model.is_active)
                    </div>
                </div>
                <div style="display:none">
                    @Html.HiddenFor(model => model.category_syscode, new { @id = "hid_category_syscode" })
                 
                    <input type="hidden" value=@(Model.category_syscode) id="hid_category_syscode_BKUP" /> @*Having this backup hidden field when in case of new workflow creation HiddenFor is not binding the workflow_syscode.*@
                </div>
            </div>
            <div class="divider m-0"></div>
            <div class="form-row">
                <div class="col-md-12">
                    <button type="button" class="mt-2 btn btn-primary" name="Action" value="save_category" onclick="Confirm(this);">Save</button>
                    <button type="submit" id="btnSaveCategory" class="mt-2 btn btn-primary" name="Action" value="save_category" style="display:none">Save</button>

                </div>
            </div>
        </div>
    </div>

}

